{"remainingRequest":"D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\src\\components\\HeaderSearch\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\src\\components\\HeaderSearch\\index.vue","mtime":1757035093000},{"path":"D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\babel.config.js","mtime":1757035093000},{"path":"D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1759557068287},{"path":"D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1759557070186},{"path":"D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1759557068287},{"path":"D:\\02-WorkSpace\\02-Java\\sanguimall\\RuoYi-Vue-master\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1759557064843}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi8wMi1Xb3JrU3BhY2UvMDItSmF2YS9zYW5ndWltYWxsL1J1b1lpLVZ1ZS1tYXN0ZXIvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi8wMi1Xb3JrU3BhY2UvMDItSmF2YS9zYW5ndWltYWxsL1J1b1lpLVZ1ZS1tYXN0ZXIvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiKSk7CnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkQ6LzAyLVdvcmtTcGFjZS8wMi1KYXZhL3Nhbmd1aW1hbGwvUnVvWWktVnVlLW1hc3Rlci9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIikpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IubWFwLmpzIik7CnZhciBfZnVzZU1pbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiZnVzZS5qcy9kaXN0L2Z1c2UubWluLmpzIikpOwp2YXIgX3BhdGggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInBhdGgiKSk7CnZhciBfdmFsaWRhdGUgPSByZXF1aXJlKCJAL3V0aWxzL3ZhbGlkYXRlIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAnSGVhZGVyU2VhcmNoJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoOiAnJywKICAgICAgb3B0aW9uczogW10sCiAgICAgIHNlYXJjaFBvb2w6IFtdLAogICAgICBhY3RpdmVJbmRleDogLTEsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBmdXNlOiB1bmRlZmluZWQKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGhlbWU6IGZ1bmN0aW9uIHRoZW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MudGhlbWU7CiAgICB9LAogICAgcm91dGVzOiBmdW5jdGlvbiByb3V0ZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmRlZmF1bHRSb3V0ZXM7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcm91dGVzOiBmdW5jdGlvbiByb3V0ZXMoKSB7CiAgICAgIHRoaXMuc2VhcmNoUG9vbCA9IHRoaXMuZ2VuZXJhdGVSb3V0ZXModGhpcy5yb3V0ZXMpOwogICAgfSwKICAgIHNlYXJjaFBvb2w6IGZ1bmN0aW9uIHNlYXJjaFBvb2wobGlzdCkgewogICAgICB0aGlzLmluaXRGdXNlKGxpc3QpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2VhcmNoUG9vbCA9IHRoaXMuZ2VuZXJhdGVSb3V0ZXModGhpcy5yb3V0ZXMpOwogIH0sCiAgbWV0aG9kczogewogICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93OwogICAgICBpZiAodGhpcy5zaG93KSB7CiAgICAgICAgdGhpcy4kcmVmcy5oZWFkZXJTZWFyY2hTZWxlY3QgJiYgdGhpcy4kcmVmcy5oZWFkZXJTZWFyY2hTZWxlY3QuZm9jdXMoKTsKICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLnNlYXJjaFBvb2w7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0ICYmIHRoaXMuJHJlZnMuaGVhZGVyU2VhcmNoU2VsZWN0LmJsdXIoKTsKICAgICAgdGhpcy5zZWFyY2ggPSAnJzsKICAgICAgdGhpcy5vcHRpb25zID0gW107CiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gLTE7CiAgICB9LAogICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UodmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwYXRoID0gdmFsLnBhdGg7CiAgICAgIHZhciBxdWVyeSA9IHZhbC5xdWVyeTsKICAgICAgaWYgKCgwLCBfdmFsaWRhdGUuaXNIdHRwKSh2YWwucGF0aCkpIHsKICAgICAgICAvLyBodHRwKHMpOi8vIOi3r+W+hOaWsOeql+WPo+aJk+W8gAogICAgICAgIHZhciBwaW5kZXggPSBwYXRoLmluZGV4T2YoImh0dHAiKTsKICAgICAgICB3aW5kb3cub3BlbihwYXRoLnN1YnN0cihwaW5kZXgsIHBhdGgubGVuZ3RoKSwgIl9ibGFuayIpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChxdWVyeSkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiBwYXRoLAogICAgICAgICAgICBxdWVyeTogSlNPTi5wYXJzZShxdWVyeSkKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChwYXRoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5zZWFyY2ggPSAnJzsKICAgICAgdGhpcy5vcHRpb25zID0gW107CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRGdXNlOiBmdW5jdGlvbiBpbml0RnVzZShsaXN0KSB7CiAgICAgIHRoaXMuZnVzZSA9IG5ldyBfZnVzZU1pbi5kZWZhdWx0KGxpc3QsIHsKICAgICAgICBzaG91bGRTb3J0OiB0cnVlLAogICAgICAgIHRocmVzaG9sZDogMC40LAogICAgICAgIGxvY2F0aW9uOiAwLAogICAgICAgIGRpc3RhbmNlOiAxMDAsCiAgICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoOiAxLAogICAgICAgIGtleXM6IFt7CiAgICAgICAgICBuYW1lOiAndGl0bGUnLAogICAgICAgICAgd2VpZ2h0OiAwLjcKICAgICAgICB9LCB7CiAgICAgICAgICBuYW1lOiAncGF0aCcsCiAgICAgICAgICB3ZWlnaHQ6IDAuMwogICAgICAgIH1dCiAgICAgIH0pOwogICAgfSwKICAgIC8vIEZpbHRlciBvdXQgdGhlIHJvdXRlcyB0aGF0IGNhbiBiZSBkaXNwbGF5ZWQgaW4gdGhlIHNpZGViYXIKICAgIC8vIEFuZCBnZW5lcmF0ZSB0aGUgaW50ZXJuYXRpb25hbGl6ZWQgdGl0bGUKICAgIGdlbmVyYXRlUm91dGVzOiBmdW5jdGlvbiBnZW5lcmF0ZVJvdXRlcyhyb3V0ZXMpIHsKICAgICAgdmFyIGJhc2VQYXRoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnLyc7CiAgICAgIHZhciBwcmVmaXhUaXRsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107CiAgICAgIHZhciByZXMgPSBbXTsKICAgICAgdmFyIF9pdGVyYXRvciA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkocm91dGVzKSwKICAgICAgICBfc3RlcDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHJvdXRlciA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgLy8gc2tpcCBoaWRkZW4gcm91dGVyCiAgICAgICAgICBpZiAocm91dGVyLmhpZGRlbikgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICBwYXRoOiAhKDAsIF92YWxpZGF0ZS5pc0h0dHApKHJvdXRlci5wYXRoKSA/IF9wYXRoLmRlZmF1bHQucmVzb2x2ZShiYXNlUGF0aCwgcm91dGVyLnBhdGgpIDogcm91dGVyLnBhdGgsCiAgICAgICAgICAgIHRpdGxlOiAoMCwgX3RvQ29uc3VtYWJsZUFycmF5Mi5kZWZhdWx0KShwcmVmaXhUaXRsZSksCiAgICAgICAgICAgIGljb246ICcnCiAgICAgICAgICB9OwogICAgICAgICAgaWYgKHJvdXRlci5tZXRhICYmIHJvdXRlci5tZXRhLnRpdGxlKSB7CiAgICAgICAgICAgIGRhdGEudGl0bGUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTIuZGVmYXVsdCkoZGF0YS50aXRsZSksIFtyb3V0ZXIubWV0YS50aXRsZV0pOwogICAgICAgICAgICBkYXRhLmljb24gPSByb3V0ZXIubWV0YS5pY29uOwogICAgICAgICAgICBpZiAocm91dGVyLnJlZGlyZWN0ICE9PSAnbm9SZWRpcmVjdCcpIHsKICAgICAgICAgICAgICAvLyBvbmx5IHB1c2ggdGhlIHJvdXRlcyB3aXRoIHRpdGxlCiAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlOiBuZWVkIHRvIGV4Y2x1ZGUgcGFyZW50IHJvdXRlciB3aXRob3V0IHJlZGlyZWN0CiAgICAgICAgICAgICAgcmVzLnB1c2goZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChyb3V0ZXIucXVlcnkpIHsKICAgICAgICAgICAgZGF0YS5xdWVyeSA9IHJvdXRlci5xdWVyeTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyByZWN1cnNpdmUgY2hpbGQgcm91dGVzCiAgICAgICAgICBpZiAocm91dGVyLmNoaWxkcmVuKSB7CiAgICAgICAgICAgIHZhciB0ZW1wUm91dGVzID0gdGhpcy5nZW5lcmF0ZVJvdXRlcyhyb3V0ZXIuY2hpbGRyZW4sIGRhdGEucGF0aCwgZGF0YS50aXRsZSk7CiAgICAgICAgICAgIGlmICh0ZW1wUm91dGVzLmxlbmd0aCA+PSAxKSB7CiAgICAgICAgICAgICAgcmVzID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKHJlcyksICgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKHRlbXBSb3V0ZXMpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHJldHVybiByZXM7CiAgICB9LAogICAgcXVlcnlTZWFyY2g6IGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoKHF1ZXJ5KSB7CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAtMTsKICAgICAgaWYgKHF1ZXJ5ICE9PSAnJykgewogICAgICAgIHZhciBfdGhpcyRmdXNlJHNlYXJjaCRtYXA7CiAgICAgICAgdGhpcy5vcHRpb25zID0gKF90aGlzJGZ1c2Ukc2VhcmNoJG1hcCA9IHRoaXMuZnVzZS5zZWFyY2gocXVlcnkpLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaXRlbTsKICAgICAgICB9KSkgIT09IG51bGwgJiYgX3RoaXMkZnVzZSRzZWFyY2gkbWFwICE9PSB2b2lkIDAgPyBfdGhpcyRmdXNlJHNlYXJjaCRtYXAgOiB0aGlzLnNlYXJjaFBvb2w7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5zZWFyY2hQb29sOwogICAgICB9CiAgICB9LAogICAgYWN0aXZlU3R5bGU6IGZ1bmN0aW9uIGFjdGl2ZVN0eWxlKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCAhPT0gdGhpcy5hY3RpdmVJbmRleCkgcmV0dXJuIHt9OwogICAgICByZXR1cm4gewogICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogdGhpcy50aGVtZSwKICAgICAgICAiY29sb3IiOiAiI2ZmZiIKICAgICAgfTsKICAgIH0sCiAgICBuYXZpZ2F0ZVJlc3VsdDogZnVuY3Rpb24gbmF2aWdhdGVSZXN1bHQoZGlyZWN0aW9uKSB7CiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICJ1cCIpIHsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gdGhpcy5hY3RpdmVJbmRleCA8PSAwID8gdGhpcy5vcHRpb25zLmxlbmd0aCAtIDEgOiB0aGlzLmFjdGl2ZUluZGV4IC0gMTsKICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICJkb3duIikgewogICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSB0aGlzLmFjdGl2ZUluZGV4ID49IHRoaXMub3B0aW9ucy5sZW5ndGggLSAxID8gMCA6IHRoaXMuYWN0aXZlSW5kZXggKyAxOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0QWN0aXZlUmVzdWx0OiBmdW5jdGlvbiBzZWxlY3RBY3RpdmVSZXN1bHQoKSB7CiAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVuZ3RoID4gMCAmJiB0aGlzLmFjdGl2ZUluZGV4ID49IDApIHsKICAgICAgICB0aGlzLmNoYW5nZSh0aGlzLm9wdGlvbnNbdGhpcy5hY3RpdmVJbmRleF0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_fuseMin","_interopRequireDefault","require","_path","_validate","name","data","search","options","searchPool","activeIndex","show","fuse","undefined","computed","theme","$store","state","settings","routes","getters","defaultRoutes","watch","generateRoutes","list","initFuse","mounted","methods","click","$refs","headerSearchSelect","focus","close","blur","change","val","_this","path","query","isHttp","pindex","indexOf","window","open","substr","length","$router","push","JSON","parse","$nextTick","Fuse","shouldSort","threshold","location","distance","minMatchCharLength","keys","weight","basePath","arguments","prefixTitle","res","_iterator","_createForOfIteratorHelper2","default","_step","s","n","done","router","value","hidden","resolve","title","_toConsumableArray2","icon","meta","concat","redirect","children","tempRoutes","err","e","f","querySearch","_this$fuse$search$map","map","item","activeStyle","index","navigateResult","direction","selectActiveResult"],"sources":["src/components/HeaderSearch/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"header-search\">\r\n    <svg-icon class-name=\"search-icon\" icon-class=\"search\" @click.stop=\"click\" />\r\n    <el-dialog\r\n      :visible.sync=\"show\"\r\n      width=\"600px\"\r\n      @close=\"close\"\r\n      :show-close=\"false\"\r\n      append-to-body\r\n    >\r\n      <el-input\r\n        v-model=\"search\"\r\n        ref=\"headerSearchSelectRef\"\r\n        size=\"large\"\r\n        @input=\"querySearch\"\r\n        prefix-icon=\"el-icon-search\"\r\n        placeholder=\"菜单搜索，支持标题、URL模糊查询\"\r\n        clearable\r\n        @keyup.enter.native=\"selectActiveResult\"\r\n        @keydown.up.native=\"navigateResult('up')\"\r\n        @keydown.down.native=\"navigateResult('down')\"\r\n      >\r\n      </el-input>\r\n      <el-scrollbar wrap-class=\"right-scrollbar-wrapper\">\r\n        <div class=\"result-wrap\">\r\n          <div class=\"search-item\" v-for=\"(item, index) in options\" :key=\"item.path\" :style=\"activeStyle(index)\" @mouseenter=\"activeIndex = index\" @mouseleave=\"activeIndex = -1\">\r\n            <div class=\"left\">\r\n              <svg-icon class=\"menu-icon\" :icon-class=\"item.icon\" />\r\n            </div>\r\n            <div class=\"search-info\" @click=\"change(item)\">\r\n              <div class=\"menu-title\">\r\n                {{ item.title.join(\" / \") }}\r\n              </div>\r\n              <div class=\"menu-path\">\r\n                {{ item.path }}\r\n              </div>\r\n            </div>\r\n            <svg-icon icon-class=\"enter\" v-show=\"index === activeIndex\"/>\r\n          </div>\r\n       </div>\r\n      </el-scrollbar>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Fuse from 'fuse.js/dist/fuse.min.js'\r\nimport path from 'path'\r\nimport { isHttp } from '@/utils/validate'\r\n\r\nexport default {\r\n  name: 'HeaderSearch',\r\n  data() {\r\n    return {\r\n      search: '',\r\n      options: [],\r\n      searchPool: [],\r\n      activeIndex: -1,\r\n      show: false,\r\n      fuse: undefined\r\n    }\r\n  },\r\n  computed: {\r\n    theme() {\r\n      return this.$store.state.settings.theme\r\n    },\r\n    routes() {\r\n      return this.$store.getters.defaultRoutes\r\n    }\r\n  },\r\n  watch: {\r\n    routes() {\r\n      this.searchPool = this.generateRoutes(this.routes)\r\n    },\r\n    searchPool(list) {\r\n      this.initFuse(list)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.searchPool = this.generateRoutes(this.routes)\r\n  },\r\n  methods: {\r\n    click() {\r\n      this.show = !this.show\r\n      if (this.show) {\r\n        this.$refs.headerSearchSelect && this.$refs.headerSearchSelect.focus()\r\n        this.options = this.searchPool\r\n      }\r\n    },\r\n    close() {\r\n      this.$refs.headerSearchSelect && this.$refs.headerSearchSelect.blur()\r\n      this.search = ''\r\n      this.options = []\r\n      this.show = false\r\n      this.activeIndex = -1\r\n    },\r\n    change(val) {\r\n      const path = val.path\r\n      const query = val.query\r\n      if(isHttp(val.path)) {\r\n        // http(s):// 路径新窗口打开\r\n        const pindex = path.indexOf(\"http\")\r\n        window.open(path.substr(pindex, path.length), \"_blank\")\r\n      } else {\r\n        if (query) {\r\n          this.$router.push({ path: path, query: JSON.parse(query) })\r\n        } else {\r\n          this.$router.push(path)\r\n        }\r\n      }\r\n      this.search = ''\r\n      this.options = []\r\n      this.$nextTick(() => {\r\n        this.show = false\r\n      })\r\n    },\r\n    initFuse(list) {\r\n      this.fuse = new Fuse(list, {\r\n        shouldSort: true,\r\n        threshold: 0.4,\r\n        location: 0,\r\n        distance: 100,\r\n        minMatchCharLength: 1,\r\n        keys: [{\r\n          name: 'title',\r\n          weight: 0.7\r\n        }, {\r\n          name: 'path',\r\n          weight: 0.3\r\n        }]\r\n      })\r\n    },\r\n    // Filter out the routes that can be displayed in the sidebar\r\n    // And generate the internationalized title\r\n    generateRoutes(routes, basePath = '/', prefixTitle = []) {\r\n      let res = []\r\n\r\n      for (const router of routes) {\r\n        // skip hidden router\r\n        if (router.hidden) { continue }\r\n\r\n        const data = {\r\n          path: !isHttp(router.path) ? path.resolve(basePath, router.path) : router.path,\r\n          title: [...prefixTitle],\r\n          icon: ''\r\n        }\r\n\r\n        if (router.meta && router.meta.title) {\r\n          data.title = [...data.title, router.meta.title]\r\n          data.icon = router.meta.icon\r\n\r\n          if (router.redirect !== 'noRedirect') {\r\n            // only push the routes with title\r\n            // special case: need to exclude parent router without redirect\r\n            res.push(data)\r\n          }\r\n        }\r\n\r\n        if (router.query) {\r\n          data.query = router.query\r\n        }\r\n\r\n        // recursive child routes\r\n        if (router.children) {\r\n          const tempRoutes = this.generateRoutes(router.children, data.path, data.title)\r\n          if (tempRoutes.length >= 1) {\r\n            res = [...res, ...tempRoutes]\r\n          }\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    querySearch(query) {\r\n      this.activeIndex = -1\r\n      if (query !== '') {\r\n        this.options = this.fuse.search(query).map((item) => item.item) ?? this.searchPool\r\n      } else {\r\n        this.options = this.searchPool\r\n      }\r\n    },\r\n    activeStyle(index) {\r\n      if (index !== this.activeIndex) return {}\r\n      return {\r\n        \"background-color\": this.theme,\r\n        \"color\": \"#fff\"\r\n      }\r\n    },\r\n    navigateResult(direction) {\r\n      if (direction === \"up\") {\r\n        this.activeIndex = this.activeIndex <= 0 ? this.options.length - 1 : this.activeIndex - 1\r\n      } else if (direction === \"down\") {\r\n        this.activeIndex = this.activeIndex >= this.options.length - 1 ? 0 : this.activeIndex + 1\r\n      }\r\n    },\r\n    selectActiveResult() {\r\n      if (this.options.length > 0 && this.activeIndex >= 0) {\r\n        this.change(this.options[this.activeIndex])\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n::v-deep {\r\n  .el-dialog__header {\r\n    padding: 0 !important;\r\n  }\r\n}\r\n\r\n.header-search {\r\n  .search-icon {\r\n    cursor: pointer;\r\n    font-size: 18px;\r\n    vertical-align: middle;\r\n  }\r\n}\r\n\r\n.result-wrap {\r\n  height: 280px;\r\n  margin: 6px 0;\r\n\r\n  .search-item {\r\n    display: flex;\r\n    height: 48px;\r\n    align-items: center;\r\n    padding-right: 10px;\r\n\r\n    .left {\r\n      width: 60px;\r\n      text-align: center;\r\n\r\n      .menu-icon {\r\n        width: 18px;\r\n        height: 18px;\r\n      }\r\n    }\r\n\r\n    .search-info {\r\n      padding-left: 5px;\r\n      margin-top: 10px;\r\n      width: 100%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: flex-start;\r\n      flex: 1;\r\n\r\n      .menu-title,\r\n      .menu-path {\r\n        height: 20px;\r\n      }\r\n      .menu-path {\r\n        color: #ccc;\r\n        font-size: 10px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .search-item:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]}]}